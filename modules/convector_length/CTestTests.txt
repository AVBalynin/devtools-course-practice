#############################################
##### Testing
#############################################

 set(prefix "${MODULE}")

 add_test(
    NAME ${prefix}_Can_Run
    COMMAND ${APPLICATION}
)

 set_tests_properties (${prefix}_Can_Run PROPERTIES
    LABELS "${MODULE}")

 add_test(
    NAME ${prefix}_Can_Print_Advice_For_User_Without_Arguments
    COMMAND ${APPLICATION} 
)

 set_tests_properties (${prefix}_Can_Print_Advice_For_User_Without_Arguments PROPERTIES
    PASS_REGULAR_EXPRESSION "This is a length calculator application\\..*"
    LABELS "${MODULE}")

 add_test(
    NAME ${prefix}_Can_Check_Number_Of_Arguments
    COMMAND ${APPLICATION} 5.5
)

 set_tests_properties (${prefix}_Can_Check_Number_Of_Arguments PROPERTIES
    PASS_REGULAR_EXPRESSION "ERROR: Should be 2 arguments\\..*"
    LABELS "${MODULE}")

 add_test(
    NAME ${prefix}_Can_Detect_Wrong_Number_Format
    COMMAND ${APPLICATION} two, Millimeters_To_Meters
)

 set_tests_properties (${prefix}_Can_Detect_Wrong_Number_Format PROPERTIES
    PASS_REGULAR_EXPRESSION "Wrong number format!.*"

 add_test(
    NAME ${prefix}_Can_Detect_Wrong_Operation_Format
    COMMAND ${APPLICATION} 1.0, garbage
)

 set_tests_properties (${prefix}_Can_Detect_Wrong_Operation_Format PROPERTIES
    PASS_REGULAR_EXPRESSION "Wrong operation format!"
    LABELS "${MODULE}")

 add_test(
    NAME ${prefix}_Can_Centimeters_To_Millimeters
    COMMAND ${APPLICATION} 1, Centimeters_To_Millimeters
)

 set_tests_properties (${prefix}_Can_Centimeters_To_Millimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Millimeters: 10"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Millimeters_To_Decimeters
    COMMAND ${APPLICATION} 1, Millimeters_To_Decimeters
)

 set_tests_properties (${prefix}_Can_Millimeters_To_Decimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Decimeters: 0.01"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Millimeters_To_Centimeters
    COMMAND ${APPLICATION} 1, Millimeters_To_Centimeters
)

 set_tests_properties (${prefix}_Can_Millimeters_To_Centimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Centimeters: 0.1"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Millimeters_To_Meters
    COMMAND ${APPLICATION} 1.0, Millimeters_To_Meters
)

 set_tests_properties (${prefix}_Can_Millimeters_To_Meters PROPERTIES
    PASS_REGULAR_EXPRESSION "Meters: 0.001"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Millimeters_To_Kilometers
    COMMAND ${APPLICATION} 1000.0, Millimeters_To_Kilometers
)

 set_tests_properties (${prefix}_Can_Millimeters_To_Kilometers PROPERTIES
    PASS_REGULAR_EXPRESSION "Kilometers: 0.001"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Centimeters_To_Decimeters
    COMMAND ${APPLICATION} 1.0, Centimeters_To_Decimeters
)

 set_tests_properties (${prefix}_Can_Centimeters_To_Decimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Decimeters: 0.1"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Centimeters_To_Meters
    COMMAND ${APPLICATION} 1, Centimeters_To_Meters
)

 set_tests_properties (${prefix}_Can_Centimeters_To_Meters PROPERTIES
    PASS_REGULAR_EXPRESSION "Meters: 0.001"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Centimeters_To_Kilometers
    COMMAND ${APPLICATION} 100.0, Centimeters_To_Kilometers
)

 set_tests_properties (${prefix}_Can_Centimeters_To_Kilometers PROPERTIES
    PASS_REGULAR_EXPRESSION "Kilometers: 0.001"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Decimeters_To_Millimeters
    COMMAND ${APPLICATION} 1, Decimeters_To_Millimeters
)

 set_tests_properties (${prefix}_Can_Decimeters_To_Millimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Millimeters: 100"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Decimeters_To_Centimeters
    COMMAND ${APPLICATION} 1.0, Decimeters_To_Centimeters
)

 set_tests_properties (${prefix}_Can_Decimeters_To_Centimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Centimeters: 10"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Decimeters_To_Meters
    COMMAND ${APPLICATION} 1.0, Decimeters_To_Meters
)

 set_tests_properties (${prefix}_Can_Decimeters_To_Meters PROPERTIES
    PASS_REGULAR_EXPRESSION "Meters: 0.1"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Decimeters_To_Kilometers
    COMMAND ${APPLICATION} 1.0, Decimeters_To_Kilometers
)

 set_tests_properties (${prefix}_Can_Decimeters_To_Kilometers PROPERTIES
    PASS_REGULAR_EXPRESSION "Kilometers: 0.0001"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Meters_To_Millimeters
    COMMAND ${APPLICATION} 1, Meters_To_Millimeters
)

 set_tests_properties (${prefix}_Can_Meters_To_Millimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Millimeters: 1000"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Meters_To_Centimeters
    COMMAND ${APPLICATION} 1, Meters_To_Centimeters
)
 
 set_tests_properties (${prefix}_Can_Meters_To_Centimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Centimeters: 100"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Meters_To_Decimeters
    COMMAND ${APPLICATION} 11, Meters_To_Decimeters
)

 set_tests_properties (${prefix}_Can_Meters_To_Decimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Decimeters: 10"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Meters_To_Kilometers
    COMMAND ${APPLICATION} 1000.0, Meters_To_Kilometers
)

 set_tests_properties (${prefix}_Can_Meters_To_Kilometers PROPERTIES
    PASS_REGULAR_EXPRESSION "Kilometers: 1.0"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Kilometers_To_Millimeters
    COMMAND ${APPLICATION} 0.00001, Kilometers_To_Millimeters
)

 set_tests_properties (${prefix}_Can_Kilometers_To_Millimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Millimeters: 10"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Kilometers_To_Centimeters
    COMMAND ${APPLICATION} 1, Kilometers_To_Centimeters
)

 set_tests_properties (${prefix}_Can_Kilometers_To_Centimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Centimeters: 100000"
    LABELS "${MODULE}")

add_test(
    NAME ${prefix}_Can_Kilometers_To_Decimeters
    COMMAND ${APPLICATION} 1, Kilometers_To_Decimeters
)

 set_tests_properties (${prefix}_Can_Kilometers_To_Decimeters PROPERTIES
    PASS_REGULAR_EXPRESSION "Decimeters: 10000"
    LABELS "${MODULE}")
add_test(
    NAME ${prefix}_Can_Kilometers_To_Meters
    COMMAND ${APPLICATION} 1, Kilometers_To_Meters
)

 set_tests_properties (${prefix}_Can_Kilometers_To_Meters PROPERTIES
    PASS_REGULAR_EXPRESSION "Meters: 100"
    LABELS "${MODULE}")